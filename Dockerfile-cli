# Runtime stage - Using Alpine with gcompat for a very small image
FROM alpine:3.21

WORKDIR /app

# Install necessary libraries for GraalVM native image on Alpine
RUN apk add --no-cache gcompat zlib libc6-compat

COPY cli/target/portbuddy /app/portbuddy
COPY entrypoint-cli.sh /app/entrypoint.sh
RUN chmod +x /app/portbuddy /app/entrypoint.sh

ENTRYPOINT ["/app/entrypoint.sh"]
